/*! felina-js - v2.5.0 - 2014-05-05
* https://github.com/felina/js-api
* Copyright (c) 2014 Giles Lavelle; Licensed MIT */
var debug=!0,defaults={xhrFields:{withCredentials:!0},dataType:"json",contentType:"application/json",success:function(a){debug&&console.log(a)},error:function(a){debug&&console.error(a)}},fl_api=function(a){this.url=a||"https://api.darwinapp.co:5000/"},pr=fl_api.prototype;pr.ajax=function(a){a=$.extend({},defaults,a),a.url=this.url+a.url,debug&&console.log(a),a.data&&(a.data=JSON.stringify(a.data)),$.ajax(a)},pr.get=function(a,b,c){var d={type:"GET",url:a,success:b,error:c};this.ajax(d)},pr.post=function(a,b,c){var d={type:"POST",url:a,data:b,success:c};this.ajax(d)},pr.patch=function(a,b,c){var d={type:"PATCH",url:a,data:b,success:c};this.ajax(d)},pr.login=function(a,b){this.post("login",a,b)},pr.register=function(a,b){this.post("user",a,b)},pr.uploadMetadata=function(a,b){this.post("meta",a,b)},pr.putSubuser=function(a,b){this.post("subusers",a,b)},pr.updateSub=function(a,b,c){this.patch("subusers/"+encodeURIComponent(a),b,c)},pr.addProject=function(a,b){this.post("projects",a,b)},pr.updateUser=function(a,b,c){this.patch("users/"+encodeURIComponent(a),b,c)},pr.getFeatures=function(a,b,c){var d="projects/"+encodeURIComponent(a)+"/fields";this.get(d,b,c)},pr.putFeatures=function(a,b,c){this.post("projects/"+encodeURIComponent(a)+"/fields",b,c)},pr.getSpecies=function(a,b){this.get("projects?details=1?all=true",a,b)},pr.loginCheck=function(a,b){this.get("user",a,b)},pr.logout=function(a,b){this.post("logout",{},a,b)},pr.startJob=function(a,b,c){this.post("start",a,b,c)},pr.getImages=function(a,b){this.get("images",a,b)},pr.getProjectImages=function(a,b,c){this.get("projects/"+a+"/images",b,c)},pr.getExecutables=function(a,b){this.get("execs",a,b)},pr.getJobs=function(a,b){this.get("jobs",a,b)},pr.getSubuser=function(a,b){this.get("subusers",a,b)},pr.getCSV=function(a,b,c){this.get("csvs/"+a,b,c)},module.exports=fl_api;