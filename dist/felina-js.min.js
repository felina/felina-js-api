/*! felina-js - v1.5.0 - 2014-04-25
* https://github.com/felina/js-api
* Copyright (c) 2014 Giles Lavelle; Licensed MIT */
var debug=!0,defaults={xhrFields:{withCredentials:!0},dataType:"json",success:function(a){debug&&console.log(a)},error:function(a){debug&&console.error(a)}},fl_api=function(a){this.url=a||"http://ec2-54-194-186-121.eu-west-1.compute.amazonaws.com/"},pr=fl_api.prototype;pr.ajax=function(a){a=$.extend({},defaults,a),a.url=this.url+a.url,debug&&console.log(a),$.ajax(a)},pr.get=function(a,b,c){var d={type:"GET",url:a,success:b,error:c};this.ajax(d)},pr.post=function(a,b,c){var d={type:"POST",url:a,data:b,success:c};this.ajax(d)},pr.patch=function(a,b,c){var d={type:"PATCH",url:a,data:b,success:c};this.ajax(d)},pr.login=function(a,b){this.post("login",a,b)},pr.register=function(a,b){this.post("user",a,b)},pr.uploadMetadata=function(a,b){this.post("meta",a,b)},pr.putSubuser=function(a,b){this.post("subusers",a,b)},pr.updateSub=function(a,b,c){this.patch("subusers/"+encodeURIComponent(a),b,c)},pr.addProject=function(a,b){this.post("projects",a,b)},pr.updateUser=function(a,b,c){this.patch("users/"+encodeURIComponent(a),b,c)},pr.getFeatures=function(a,b,c){b=1;var d="projects/"+encodeURIComponent(b)+"/fields";this.get(d,a,c)},pr.getSpecies=function(a,b){this.get("projects",a,b)},pr.loginCheck=function(a,b){this.get("user",a,b)},pr.logout=function(a,b){this.post("logout",a,b)},pr.startJob=function(a,b,c,d){var e={executable:a,images:b};this.post("start",e,c,d)},pr.getImages=function(a,b){this.get("images",a,b)},pr.getExecutables=function(a,b){this.get("execs",a,b)},pr.getJobs=function(a,b){this.get("jobs",a,b)},pr.getSubuser=function(a,b){this.get("subusers",a,b)},module.exports=fl_api;